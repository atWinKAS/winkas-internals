<!DOCTYPE html>
<html>
<head>
    <title>{{ title }}</title>
	<link rel='stylesheet' href='/css/style.css' />
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css"/>
    
    <link rel="stylesheet" type="text/css" href="/css/pretty-json.css" />
	
	<script src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/underscore-min.js" ></script>
    <script type="text/javascript" src="/js/backbone-min.js" ></script>

    <script type="text/javascript" src="/js/pretty-json-min.js" ></script>
    
</head>
<body>
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Winkas</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li><a href="/">Home</a></li>
				<!--<li><a href="/notes">Notes</a></li>
                <li><a href="/newnote">New Note</a></li>-->
                <li class="active"><a href="/weblog">Weblog</a></li>
				<li><a href="/intlog">Intlog</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</div>

<div class="container-fluid">

    <div class="text-center">
        <h2>Winkas Internals</h2>        
    </div>

    <div>
        <!--<h2>Latest Notes</h2>-->

        <div class="container-fluid">			
			<div class="row">
                <div class="col-md-2">
				    Id
                </div>
                <div class="col-md-10">
				    {{ item._id.toString() }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    Uid
                </div>
                <div class="col-md-10">
				    {{ item.Uid }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    Url
                </div>
                <div class="col-md-10">
				    {{ item.Url }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    RequestType
                </div>
                <div class="col-md-10">
				    {{ item.RequestType }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    RequestBody
                </div>
                <div class="col-md-10">
                    <div id="requestbody" style="display: none;">
                        {{ item.RequestBody }}
                    </div>
                    <div>
                        <span id="resultRequestBody"></span>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    IpAddress
                </div>
                <div class="col-md-10">
				    {{ item.IpAddress }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    Action
                </div>
                <div class="col-md-10">
				    {{ item.Action }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    Controller
                </div>
                <div class="col-md-10">
				    {{ item.Controller }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    RequestDate
                </div>
                <div class="col-md-10">
				    {{ item.RequestDate.toISOString() }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    ResponseBody
                </div>
                <div class="col-md-10">
				    <div id="responsebody" style="display: none;">
                        {{ item.ResponseBody }}
                    </div>
                    <div>
                        <span id="resultResponseBody"></span>
                    </div>
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    ResponseDate
                </div>
                <div class="col-md-10">
				    {{ item.ResponseDate.toISOString() }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    UserAuthenticated
                </div>
                <div class="col-md-10">
				    {{ item.UserAuthenticated }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    UserName
                </div>
                <div class="col-md-10">
				    {{ item.UserName }}
                </div>          
            </div>
            
            <div class="row">
                <div class="col-md-2">
				    Area
                </div>
                <div class="col-md-10">
				    {{ item.Area }}
                </div>          
            </div>
            
        </div>
	</div>
</div><!-- /.container -->

<script>
    $(document).ready(function() {

        var el = {
            inputRequest: $('#requestbody'),
            resultRequest: $('#resultRequestBody'),
            inputResponse: $('#responsebody'),
            resultResponse: $('#resultResponseBody')
        };
        
            var indata = el.inputRequest[0].innerText;
            var o;
            try { 
                o = JSON.parse(indata);
                var node1 = new PrettyJSON.view.Node({ 
                el:el.resultRequest, 
                data:o
            });
            }
            catch(e){ 
                el.resultRequest[0].innerText = indata;
            }


            indata = el.inputResponse[0].innerText;
            try { 
                o = JSON.parse(indata);
                var node2 = new PrettyJSON.view.Node({ 
                el:el.resultResponse, 
                data:o
            });
            }
            catch(e){
                el.resultResponse[0].innerText = indata;
            }
            
               
    });
</script>

</body>
</html>